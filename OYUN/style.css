:root{
  --bg:#0b1020;
  --muted:#8ea0c8;
  --text:#e9efff;
  --good:#3ddc97;
  --bad:#ff5c7a;

  --select-bg:#ffffff;
  --select-text:#111111;
  --select-border:rgba(0,0,0,.18);
}

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--text);
  padding-bottom:56px;
  background: var(--bg);
  position:relative;
  overflow-x:hidden;
}

body::before{
  content:"";
  position:fixed;
  inset:-30px;
  background-image:
    linear-gradient(180deg, rgba(11,16,32,.55), rgba(11,16,32,.72)),
    url("https://upload.wikimedia.org/wikipedia/commons/7/77/Library_interior_Wikisource.JPG");
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  filter: blur(10px) saturate(1.12) brightness(.78);
  transform: scale(1.06);
  z-index:-2;
}

body::after{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(900px 600px at 20% 10%, rgba(106,169,255,.18) 0%, rgba(11,16,32,.0) 55%),
    radial-gradient(800px 520px at 80% 20%, rgba(61,220,151,.10) 0%, rgba(11,16,32,.0) 60%),
    radial-gradient(1100px 720px at 50% 100%, rgba(0,0,0,.32) 0%, rgba(0,0,0,.0) 60%);
  z-index:-1;
}

*{box-sizing:border-box}
.wrap{max-width:980px;margin:0 auto;padding:24px}
.top h1{margin:0 0 6px;font-size:34px}
.sub{margin:0 0 22px;color:var(--muted)}

.card{
  background:linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.10);
  border-radius:16px;
  padding:18px;
  box-shadow:0 16px 40px rgba(0,0,0,.35);
  backdrop-filter: blur(6px);
}
.hidden{display:none}

.grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
@media (max-width:820px){.grid{grid-template-columns:1fr}}

.box{
  background:rgba(0,0,0,.18);
  border:1px solid rgba(255,255,255,.10);
  border-radius:14px;
  padding:16px;
}
.row{display:flex;align-items:center;justify-content:space-between;gap:12px;margin:12px 0}

select{
  width:240px;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--select-border);
  background:var(--select-bg);
  color:var(--select-text);
}
select option{background:var(--select-bg);color:var(--select-text)}

.inp{
  width:240px;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(0,0,0,.22);
  color:var(--text);
  outline:none;
}
.inp::placeholder{color:rgba(233,239,255,.45)}

.smallHint{
  margin-top:-6px;
  color:rgba(233,239,255,.55);
  font-size:12px;
  line-height:1.35;
}

.btn{
  width:100%;
  margin-top:10px;
  padding:12px 14px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.25);
  color:var(--text);
  cursor:pointer;
  transition:transform .06s ease, background .2s ease, opacity .2s ease;
}
.btn:hover{background:rgba(255,255,255,.08)}
.btn:active{transform:translateY(1px)}
.btn.primary{background:rgba(106,169,255,.22);border-color:rgba(106,169,255,.45)}
.btn.primary:hover{background:rgba(106,169,255,.30)}
.btn.small{width:auto;padding:8px 10px;border-radius:12px;margin:0}
.btn:disabled{opacity:.55;cursor:not-allowed}

.btn.tiny{
  width:auto;
  margin:0;
  padding:8px 10px;
  border-radius:12px;
  font-size:12px;
}
.btn.danger{
  border-color: rgba(255,92,122,.35);
  background: rgba(255,92,122,.14);
}
.btn.danger:hover{background: rgba(255,92,122,.20)}

.stats{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.stat{
  background:rgba(0,0,0,.22);
  border:1px solid rgba(255,255,255,.10);
  border-radius:14px;
  padding:12px;
}
.k{color:rgba(233,239,255,.62);font-size:13px}
.v{font-size:22px;font-weight:800;margin-top:4px}
.statsSmall .smallK{font-size:12px}
.statsSmall .smallV{font-size:18px}

.hint{color:rgba(233,239,255,.45);font-size:12px;margin:12px 0 0}
.list{color:rgba(233,239,255,.78);line-height:1.65}
.foot{margin-top:16px;color:rgba(255,255,255,.35);font-size:12px;text-align:center}

.lbHead{
  margin-top:14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.lbTitle{font-weight:900;letter-spacing:.2px}

.leaderboard{
  margin-top:10px;
  border:1px solid rgba(255,255,255,.10);
  border-radius:14px;
  overflow:hidden;
  background:rgba(0,0,0,.18);
}
.lbRow{
  display:grid;
  grid-template-columns: 34px 1fr 90px;
  gap:10px;
  align-items:center;
  padding:10px 12px;
  border-top:1px solid rgba(255,255,255,.08);
}
.lbRow:first-child{border-top:none}
.lbRank{
  color:rgba(233,239,255,.55);
  font-weight:800;
  font-size:12px;
}
.lbMain{display:flex;flex-direction:column;gap:4px}
.lbNick{font-weight:900;font-size:14px}
.lbMeta{color:rgba(233,239,255,.55);font-size:12px}
.lbScore{text-align:right;font-weight:900;font-size:16px}

.bar{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  flex-wrap:wrap;
  margin-bottom:14px;
}
.pill{
  background:rgba(0,0,0,.30);
  border:1px solid rgba(255,255,255,.10);
  padding:8px 10px;
  border-radius:999px;
  font-size:14px;
}

.gameLayout{
  display:grid;
  grid-template-columns: 1.35fr .65fr;
  gap:14px;
  align-items:start;
}
@media (max-width:900px){ .gameLayout{grid-template-columns:1fr} }

.qbox{
  background:rgba(0,0,0,.18);
  border:1px solid rgba(255,255,255,.10);
  border-radius:14px;
  padding:16px;
}
.tag{
  display:inline-block;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  color:rgba(233,239,255,.72);
  font-size:12px;
  margin-bottom:10px;
}
.question{margin:6px 0 12px;font-size:22px}
.choices{display:grid;gap:10px}

.choice{
  text-align:left;
  padding:12px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.08);
  color: var(--text);
  cursor:pointer;
  transition: transform .06s ease, background .15s ease, border-color .15s ease;
}
.choice:hover{background:rgba(255,255,255,.14)}
.choice:active{transform:translateY(1px)}
.choice:disabled{opacity:.78;cursor:not-allowed}

.choice.correct{
  border-color: rgba(61,220,151,.85);
  background: rgba(61,220,151,.18);
}
.choice.wrong{
  border-color: rgba(255,92,122,.90);
  background: rgba(255,92,122,.18);
}

.feedback{margin-top:10px;min-height:22px;color:rgba(233,239,255,.72)}
.feedback.good{color:var(--good)}
.feedback.bad{color:var(--bad)}

.actions{display:flex;justify-content:flex-end;margin-top:12px}
.actions .btn{width:auto;margin-top:0}

.resultGrid{
  display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin:14px 0 10px
}
@media (max-width:820px){.resultGrid{grid-template-columns:repeat(2,1fr)}}
.res{
  background:rgba(0,0,0,.22);
  border:1px solid rgba(255,255,255,.10);
  border-radius:14px;
  padding:12px;
  text-align:center;
}

.rowBtns{display:flex;gap:10px;flex-wrap:wrap}
.rowBtns .btn{flex:1}

.authorCard{
  background:rgba(0,0,0,.22);
  border:1px solid rgba(255,255,255,.12);
  border-radius:14px;
  padding:14px;
  position:sticky;
  top:16px;
}
.authorPhotoWrap{
  width:100%;
  aspect-ratio: 3/4;
  border-radius:12px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.06);
}
.authorImg{width:100%;height:100%;object-fit:cover;display:block}
.authorMeta{margin-top:10px}
.authorLabel{color:rgba(233,239,255,.65);font-size:12px}
.authorName{font-size:18px;font-weight:900;margin-top:4px}
.authorHint{color:rgba(233,239,255,.55);font-size:12px;margin-top:8px;line-height:1.35}

.creatorBar{
  position:fixed;
  left:0; right:0; bottom:0;
  height:46px;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:0 12px;
  background:rgba(0,0,0,.55);
  border-top:1px solid rgba(255,255,255,.10);
  backdrop-filter: blur(10px);
  color:rgba(233,239,255,.9);
  font-weight:700;
  letter-spacing:.2px;
  z-index:9999;
}
